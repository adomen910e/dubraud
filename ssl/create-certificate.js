const crypto = require('crypto');
const fs = require('fs');

console.log('Création d\'un certificat SSL auto-signé...');

// Générer une paire de clés RSA
const { publicKey, privateKey } = crypto.generateKeyPairSync('rsa', {
  modulusLength: 2048,
  publicKeyEncoding: {
    type: 'spki',
    format: 'pem'
  },
  privateKeyEncoding: {
    type: 'pkcs8',
    format: 'pem'
  }
});

// Créer un certificat auto-signé simple (format PEM)
const certificate = `-----BEGIN CERTIFICATE-----
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
